# 📱 ИНСТРУКЦИЯ ПО ТЕСТИРОВАНИЮ БОТА

## ✅ БОТ ЗАПУЩЕН И ГОТОВ К РАБОТЕ!

**Процесс ID:** 5772  
**База данных:** ✅ Инициализирована  
**Статус:** 🟢 Работает  

---

## 🧪 КАК ПРОТЕСТИРОВАТЬ РАСПОЗНАВАНИЕ:

### Шаг 1: Найдите бота в Telegram
Откройте Telegram и найдите: **@raffletracker_bot**

### Шаг 2: Отправьте команду /start
Это инициализирует ваши настройки с автоматическим распознаванием (включено по умолчанию).

### Шаг 3: Проверьте настройки
Нажмите кнопку **⚙️ Настройки** и убедитесь, что:
- ✅ **Автопоиск розыгрышей:** Включен
- ✅ **ИИ анализ (ChatGPT):** Включен
- ✅ **OCR (анализ изображений):** Включен

### Шаг 4: Отправьте тестовое сообщение
Скопируйте и отправьте боту:

```
🎉 РОЗЫГРЫШ iPhone 16 Pro! 🎁

Разыгрываем крутой iPhone 16 Pro Max 256GB!

Условия участия:
1️⃣ Подпишись на канал @tech_giveaways
2️⃣ Поставь лайк этому посту
3️⃣ Сделай репост

🏆 Приз: iPhone 16 Pro Max
📅 Дедлайн: 20.10.2025
⏰ Время: 18:00 МСК

Удачи всем участникам! 🍀
```

---

## ⚠️ ВОЗМОЖНЫЕ ПРОБЛЕМЫ И РЕШЕНИЯ:

### Проблема 1: Бот не распознаёт розыгрыш
**Причина:** Автопоиск отключен в настройках  
**Решение:** Нажмите ⚙️ Настройки → ✅ Включить автопоиск

### Проблема 2: Бот отвечает "Не понимаю эту команду"
**Причина:** Настройки пользователя не инициализированы  
**Решение:** Отправьте `/start` заново

### Проблема 3: Низкая уверенность распознавания
**Причина:** Слишком высокий порог уверенности  
**Решение:** Настройки → Изменить минимальную уверенность на 30-40%

---

## 🔍 ЧТО ДОЛЖНО ПРОИЗОЙТИ:

1. Бот получает ваше сообщение
2. Анализирует его с помощью ИИ
3. Определяет, что это розыгрыш (уверенность ~90-100%)
4. Извлекает информацию:
   - 🎯 Название: "РОЗЫГРЫШ iPhone 16 Pro!"
   - 🏆 Приз: "iPhone 16 Pro Max 256GB"
   - 📅 Дата: "20.10.2025"
   - 📺 Каналы: "@tech_giveaways"
5. Предлагает добавить розыгрыш с кнопками:
   - ✅ Добавить
   - ❌ Отклонить
   - 📝 Редактировать

---

## 📊 ЛОГИ И ОТЛАДКА:

### Проверить, что бот работает:
```bash
ps aux | grep ultimate_giveaway_bot | grep -v grep
```

### Проверить базу данных:
```bash
sqlite3 ultimate_giveaways.db "SELECT * FROM user_settings;"
```

### Перезапустить бота:
```bash
pkill -f ultimate_giveaway_bot.py
cd src/bots && python3 ultimate_giveaway_bot.py > bot.log 2>&1 &
```

---

## 🎉 УСПЕШНЫЙ РЕЗУЛЬТАТ:

Если всё работает правильно, вы увидите сообщение от бота примерно такого вида:

```
🤖 Обнаружен розыгрыш!

🎯 Название: РОЗЫГРЫШ iPhone 16 Pro!
🏆 Приз: iPhone 16 Pro Max 256GB
📅 Дата: 20.10.2025 18:00
📺 Каналы: @tech_giveaways

🔍 Уверенность: 95%

✅ Добавить   ❌ Отклонить   📝 Редактировать
```

---

*Документ создан: 07.10.2025*  
*Версия бота: v3.0 Ultimate*
